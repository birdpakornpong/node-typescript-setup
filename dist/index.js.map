{"version":3,"file":"index.js","mappings":"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","sources":["webpack://node-typescript-setup/./src/api/controllers/home/home-controller.ts","webpack://node-typescript-setup/./src/api/controllers/index.ts","webpack://node-typescript-setup/./src/api/controllers/student-room/student-room-controller.ts","webpack://node-typescript-setup/./src/api/services/home-service/manage/home-manage.ts","webpack://node-typescript-setup/./src/api/services/student-room/manage/student-room-manage.ts","webpack://node-typescript-setup/./src/app.ts","webpack://node-typescript-setup/./src/ioc/invensify.config.ts","webpack://node-typescript-setup/external commonjs \"express\"","webpack://node-typescript-setup/external commonjs \"inversify\"","webpack://node-typescript-setup/external commonjs \"inversify-express-utils\"","webpack://node-typescript-setup/external commonjs \"reflect-metadata\"","webpack://node-typescript-setup/external commonjs \"swagger-ui-express\"","webpack://node-typescript-setup/external commonjs \"yamljs\"","webpack://node-typescript-setup/webpack/bootstrap","webpack://node-typescript-setup/webpack/before-startup","webpack://node-typescript-setup/webpack/startup","webpack://node-typescript-setup/webpack/after-startup"],"sourcesContent":["import { inject } from \"inversify\";\nimport { interfaces, controller, httpGet } from \"inversify-express-utils\";\nimport { HomeService } from \"src/api/services/home-service/home-service\";\n\n@controller(\"/\")\nexport class HomeController implements interfaces.Controller {\n  constructor(@inject(\"HomeService\") private homeService: HomeService) {}\n\n  @httpGet(\"/\")\n  public getHello() {\n    return this.homeService.getHello();\n  }\n}\n","import \"./home/home-controller\";\nimport \"./student-room/student-room-controller\";\n","import { inject } from \"inversify\";\nimport { interfaces, controller, httpGet, queryParam, requestParam, httpDelete, requestHeaders, httpPost, requestBody } from \"inversify-express-utils\";\nimport { StudentRoom } from \"src/api/interfaces/student-room-interface\";\nimport { StudentRoomService } from \"src/api/services/student-room/student-room-service\";\n\n@controller(\"/student\")\nexport class StudentRoomController implements interfaces.Controller {\n  constructor(\n    @inject(\"StudentRoomService\") private studentRoomService: StudentRoomService\n  ) {}\n\n  @httpGet(\"/\")\n  public getHello() {\n    return this.studentRoomService.getAll();\n  }\n\n  @httpGet(\"/byId\")\n  public getById(\n    @queryParam('id') id: string // eslint-disable-line @typescript-eslint/indent\n  ) {\n    return this.studentRoomService.getById(id);\n  }\n\n  @httpGet(\"/by-id/:id\")\n  public getByIds(\n    @requestParam('id') id: string // eslint-disable-line @typescript-eslint/indent\n  ) {\n    return this.studentRoomService.getById(id);\n  }\n\n  @httpDelete(\"/delete/:id\")\n  private deleteById(\n    @requestParam('id') id: string // eslint-disable-line @typescript-eslint/indent\n  ) {\n    return this.studentRoomService.deleteStudent(Number(id))\n  }\n\n  @httpGet(\"/get-by-id\")\n  private getByIdReqHeader(\n    @requestHeaders('ids') ids: string // eslint-disable-line @typescript-eslint/indent\n  ){\n    return this.studentRoomService.getById(Number(ids));\n  }\n\n  @httpPost(\"/create\")\n  private create(\n    @requestBody() student: any// eslint-disable-line @typescript-eslint/indent\n  ) {\n    console.log('student', student)\n    const {firstName, lastName, age, point } = student\n    return this.studentRoomService.addStudent(firstName, lastName, age, point)\n  }\n}\n","import { injectable } from \"inversify\";\nimport { Arrays, Nullable } from \"src/api/interfaces/interfaces\";\nimport { HomeService } from \"../home-service\";\n\n@injectable()\nexport class Home implements HomeService {\n  async getHello(): Promise<Nullable<Arrays>> {\n    const users = [\n      { name: \"bird\", lastname: \"hirun\" },\n      { name: \"pang\", lastname: \"hirsn\" },\n    ];\n\n    return users;\n  }\n}\n","import { injectable } from \"inversify\";\nimport { StudentRoom } from \"src/api/interfaces/student-room-interface\";\nimport { StudentRoomService } from \"../student-room-service\";\n\n@injectable()\nexport class StudentRoomManage implements StudentRoomService {\n  private studentList: StudentRoom[] = [\n    { id: 1, firstName: \"bird\", lastName: \"test\", age: 25, point: 65 },\n  ];\n\n  addStudent(firstName, lastName, age, point) {\n    const length = this.studentList.length;\n    const person = {\n      id: length + 1,\n      firstName,\n      lastName,\n      age,\n      point,\n    };\n    this.studentList.push(person);\n    console.log('this.studentList', this.studentList)\n  }\n\n  getAll() {\n    console.log('get', this.studentList)\n    return this.studentList;\n  }\n\n  async getById(id) {\n    const person = await this.studentList.filter((item) => item.id == id);\n    return person;\n  }\n\n  updateStudent(\n    id,\n    firstName = \"default\",\n    lastName = \"default\",\n    age = 25,\n    point = 99\n  ) {\n    let person = this.studentList.find((item) => item.id == id);\n    person = {\n      id,\n      firstName,\n      lastName,\n      age,\n      point,\n    };\n    this.studentList[id - 1] = person;\n    return person;\n  }\n\n  deleteStudent(id) {\n    const person = this.studentList.filter((item) => item.id !== id);\n    this.studentList = person;\n    return this.studentList;\n  }\n}\n","import \"reflect-metadata\"; // สำคัญมาก in บรรทัด 1\nimport express from \"express\";\nimport swaggerUi from \"swagger-ui-express\";\nimport YAML from \"yamljs\";\nimport container from \"./ioc/invensify.config\";\nimport { InversifyExpressServer } from \"inversify-express-utils\";\nimport { RequestLogMiddleware } from \"./api/middleware/request-log.middleware\";\n\nconst server = new InversifyExpressServer(container);\nconst port = 3000;\nconst swaggerDocument = YAML.load(\"./swagger.yaml\");\n\nserver\n  .setConfig((app: express.Application): void => {\n    app.use(\"/docs\", swaggerUi.serve, swaggerUi.setup(swaggerDocument));\n    app.use(express.json())\n    // app.use(RequestLogMiddleware.handle, RequestLogMiddleware.responseInterceptor());\n  })\n  .build()\n  .listen(port, () => {\n    console.log(`The service has been up and running on ${port} port`);\n  });\n","import { Container } from \"inversify\";\nimport { HomeService } from \"src/api/services/home-service/home-service\";\nimport { Home } from \"src/api/services/home-service/manage/home-manage\";\nimport { StudentRoomManage } from \"src/api/services/student-room/manage/student-room-manage\";\nimport { StudentRoomService } from \"src/api/services/student-room/student-room-service\";\nimport \"../api/controllers\";\n\nconst container = new Container();\n\ncontainer.bind<HomeService>(\"HomeService\").to(Home);\ncontainer.bind<StudentRoomService>(\"StudentRoomService\").to(StudentRoomManage);\nexport default container;\n","module.exports = require(\"express\");","module.exports = require(\"inversify\");","module.exports = require(\"inversify-express-utils\");","module.exports = require(\"reflect-metadata\");","module.exports = require(\"swagger-ui-express\");","module.exports = require(\"yamljs\");","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(\"./src/app.ts\");\n",""],"names":[],"sourceRoot":""}